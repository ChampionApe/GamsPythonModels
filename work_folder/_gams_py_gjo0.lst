GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   3   
   4   
   5  # Root File for model
   6  OPTION SYSOUT=OFF, SOLPRINT=OFF, LIMROW=0, LIMCOL=0, DECIMALS=6;
   7  ;
   8   
   9  # ----------------------------------------------------------------------------------------------------
  10  #  Import file: C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\test_CollectFile.gms
  11  # ----------------------------------------------------------------------------------------------------
  12   
  13   
  14  # ----------------------------------------------------------------------------------------------------
  15  #  Import file: C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\test_functions.gms
  16  # ----------------------------------------------------------------------------------------------------
  17   
  18   
  19  # ----------------------------------------------------------------------------------------------------
  20  #  Define function: load_level
  21  # ----------------------------------------------------------------------------------------------------
  22   
  23   
  24   
  25  # ----------------------------------------------------------------------------------------------------
  26  #  Define function: load_fixed
  27  # ----------------------------------------------------------------------------------------------------
  28   
  29   
  30  ;
  31   
  32  # ----------------------------------------------------------------------------------------------------
  33  #  Import file: C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\test_sets.gms
  34  # ----------------------------------------------------------------------------------------------------
  35   
  36  sets
  37          alias_map2
  38          alias_set
  39          n
  40  ;
  41   
  42  alias(n,nnn,nn);
  43   
  44  sets
  45          map_s1_in[n,nn]
  46          t_out_s1_out[n]
  47          t_out_s1_in[n]
  48          int[n]
  49          map_all[n,nn]
  50          i_kno_no_s1_in[n]
  51          kno_out[n]
  52          wT[n]
  53          fg[n]
  54          alias_[alias_set,alias_map2]
  55          inp[n]
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  56          i_bra_o_s1_in[n]
  57          out[n]
  58          i_bra_no_s1_out[n]
  59          kno_inp[n]
  60          map_s1_out[n,nn]
  61          i_bra_no_s1_in[n]
  62          i_bra_o_s1_out[n]
  63          i_kno_s1_in[n]
  64          i_kno_s1_out[n]
  65  ;
GDXIN   C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\_gams_py_gdb0.gdx
--- LOAD  alias_map2 = 2:alias_map2
--- LOAD  alias_set = 1:alias_set
--- LOAD  n = 3:n
--- LOAD  t_out_s1_out = 25:t_out_s1_out
--- LOAD  t_out_s1_in = 18:t_out_s1_in
--- LOAD  int = 9:int
--- LOAD  i_kno_no_s1_in = 20:i_kno_no_s1_in
--- LOAD  kno_out = 13:kno_out
--- LOAD  wT = 11:wT
--- LOAD  fg = 10:fg
--- LOAD  i_bra_o_s1_in = 21:i_bra_o_s1_in
--- LOAD  inp = 7:inp
--- LOAD  i_bra_no_s1_out = 28:i_bra_no_s1_out
--- LOAD  out = 8:out
--- LOAD  kno_inp = 14:kno_inp
--- LOAD  i_bra_no_s1_in = 22:i_bra_no_s1_in
--- LOAD  i_bra_o_s1_out = 27:i_bra_o_s1_out
--- LOAD  i_kno_s1_in = 19:i_kno_s1_in
--- LOAD  i_kno_s1_out = 26:i_kno_s1_out
--- LOAD  map_s1_out = 24:map_s1_out
--- LOAD  map_s1_in = 17:map_s1_in
--- LOAD  alias_ = 6:alias_
--- LOAD  map_all = 12:map_all
  93  ;
  94   
  95  # ----------------------------------------------------------------------------------------------------
  96  #  Import file: C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\test_parameters.gms
  97  # ----------------------------------------------------------------------------------------------------
  98   
  99  ;
 100   
 101  # ----------------------------------------------------------------------------------------------------
 102  #  Import file: C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\test_groups.gms
 103  # ----------------------------------------------------------------------------------------------------
 104   
 105   
 106  # ---------------------------------------------test_gtech---------------------------------------------
 107  #  Initialize test_gtech group
 108  # ----------------------------------------------------------------------------------------------------
 119   
 120   
 121  # ----------------------------------------------test_gexo---------------------------------------------
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 122  #  Initialize test_gexo group
 123  # ----------------------------------------------------------------------------------------------------
 130   
 131   
 132  # ---------------------------------------------test_gendo---------------------------------------------
 133  #  Initialize test_gendo group
 134  # ----------------------------------------------------------------------------------------------------
 148   
 149  # ----------------------------------------------------------------------------------------------------
 150  #  Loop over __load_group
 151  # ----------------------------------------------------------------------------------------------------
 152   
 153      parameter load_PbT[n] "";
 154      load_PbT[n]$(((out[n]))) = 0;
 155   
 156      parameter load_PwT[n] "";
 157      load_PwT[n]$(((int[n]))) = 0;
 158   
 159      parameter load_qD[n] "";
 160      load_qD[n]$(((wT[n]))) = 0;
 161   
 162    execute_load "_gams_py_gdb0"
 163  # ----------------------------------------------------------------------------------------------------
 164  #  Loop over __load_group
 165  # ----------------------------------------------------------------------------------------------------
 166   load_PbT=PbT.l  load_PwT=PwT.l  load_qD=qD.l ;
 167   
 168  # ----------------------------------------------------------------------------------------------------
 169  #  Loop over __load_group
 170  # ----------------------------------------------------------------------------------------------------
 171   
 172      PbT.l[n]$(((out[n]))) = load_PbT[n];
 173   
 174      PwT.l[n]$(((int[n]))) = load_PwT[n];
 175   
 176      qD.l[n]$(((wT[n]))) = load_qD[n];
 178  ;
 186   
 187  # ----------------------------------------------------------------------------------------------------
 188  #  Loop over __load_group
 189  # ----------------------------------------------------------------------------------------------------
 190   
 191      parameter load_mu[n,nn] "";
 192      load_mu[n,nn]$(((map_all[n,nn]))) = 0;
 193   
 194      parameter load_sigma[n] "";
 195      load_sigma[n]$(((kno_inp[n]))) = 0;
 196   
 197      parameter load_mark_up[n] "";
 198      load_mark_up[n]$(((out[n]))) = 0;
 199   
 200      parameter load_eta[n] "";
 201      load_eta[n]$(((kno_out[n]))) = 0;
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 202   
 203    execute_load "_gams_py_gdb0"
 204  # ----------------------------------------------------------------------------------------------------
 205  #  Loop over __load_group
 206  # ----------------------------------------------------------------------------------------------------
 207   load_mu=mu.l  load_sigma=sigma.l  load_mark_up=mark_up.l  load_eta=eta.l ;
 208   
 209  # ----------------------------------------------------------------------------------------------------
 210  #  Loop over __load_group
 211  # ----------------------------------------------------------------------------------------------------
 212   
 213      mu.fx[n,nn]$(((map_all[n,nn]))) = load_mu[n,nn];
 214   
 215      sigma.fx[n]$(((kno_inp[n]))) = load_sigma[n];
 216   
 217      mark_up.fx[n]$(((out[n]))) = load_mark_up[n];
 218   
 219      eta.fx[n]$(((kno_out[n]))) = load_eta[n];
 221  ;
 229   
 230  # ----------------------------------------------------------------------------------------------------
 231  #  Loop over __load_group
 232  # ----------------------------------------------------------------------------------------------------
 233   
 234      parameter load_PwT[n] "";
 235      load_PwT[n]$(((inp[n]))) = 0;
 236   
 237      parameter load_qS[n] "";
 238      load_qS[n]$(((out[n]))) = 0;
 239   
 240    execute_load "_gams_py_gdb0"
 241  # ----------------------------------------------------------------------------------------------------
 242  #  Loop over __load_group
 243  # ----------------------------------------------------------------------------------------------------
 244   load_PwT=PwT.l  load_qS=qS.l ;
 245   
 246  # ----------------------------------------------------------------------------------------------------
 247  #  Loop over __load_group
 248  # ----------------------------------------------------------------------------------------------------
 249   
 250      PwT.fx[n]$(((inp[n]))) = load_PwT[n];
 251   
 252      qS.fx[n]$(((out[n]))) = load_qS[n];
 254  ;
 255  ;
 256   
 257  # ----------------------------------------------------------------------------------------------------
 258  #  Import file: C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\test_blocks.gms
 259  # ----------------------------------------------------------------------------------------------------
 260   
 261   
 262  # -----------------------------------------------M_s1_in----------------------------------------------
 263  #  Initialize M_s1_in equation block
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 264  # ----------------------------------------------------------------------------------------------------
 265  EQUATION E_pindex_o_s1_in[n];
 266  E_pindex_o_s1_in[n]$((t_out_s1_in[n]) and sigma.l[n] <> 1)..    PbT[n]  =E=  sum(nn$(map_s1_in[nn,n]), mu[nn,n] * PwT[nn]**(1-sigma[n]))**(1/(1-sigma[n]));
 267  EQUATION E_pindex_no_s1_in[n];
 268  E_pindex_no_s1_in[n]$((i_kno_no_s1_in[n]) and sigma.l[n] <> 1)..        PwT[n]  =E=  sum(nn$(map_s1_in[nn,n]), mu[nn,n] * PwT[nn]**(1-sigma[n]))**(1/(1-sigma[n]));
 269  EQUATION E_pindex_CD_o_s1_in[n];
 270  E_pindex_CD_o_s1_in[n]$((t_out_s1_in[n]) and sigma.l[n] = 1)..  PbT[n]  =E=  prod(nn$(map_s1_in[nn,n]), PwT[nn]**(mu[nn,n]));
 271  EQUATION E_pindex_CD_no_s1_in[n];
 272  E_pindex_CD_no_s1_in[n]$((t_out_s1_in[n]) and sigma.l[n] = 1)..         PwT[n]  =E=  prod(nn$(map_s1_in[nn,n]), PwT[nn]**(mu[nn,n]));
 273  EQUATION E_quant_o_s1_in[n];
 274  E_quant_o_s1_in[n]$(i_bra_o_s1_in[n])..         qD[n]  =E=  sum(nn$(map_s1_in[n,nn]), mu[n,nn] * (PbT[nn]/PwT[n])**(sigma[nn]) * qS[nn]);
 275  EQUATION E_quant_no_s1_in[n];
 276  E_quant_no_s1_in[n]$(i_bra_no_s1_in[n])..       qD[n]  =E=  sum(nn$(map_s1_in[n,nn]), mu[n,nn] * (PwT[nn]/PwT[n])**(sigma[nn]) * qD[nn]);
 277   
 278  # ----------------------------------------------------------------------------------------------------
 279  #  Define M_s1_in model
 280  # ----------------------------------------------------------------------------------------------------
 281  Model M_s1_in /
 282  E_pindex_o_s1_in, E_pindex_no_s1_in, E_pindex_CD_o_s1_in, E_pindex_CD_no_s1_in, E_quant_o_s1_in, E_quant_no_s1_in
 283  /;
 284   
 285   
 286  # ----------------------------------------------M_s1_out----------------------------------------------
 287  #  Initialize M_s1_out equation block
 288  # ----------------------------------------------------------------------------------------------------
 289  EQUATION E_pindex_s1_out[n];
 290  E_pindex_s1_out[n]$(i_kno_s1_out[n])..  PwT[n]  =E=  (sum(nn$(map_s1_out[nn,n] and out[nn]), mu[nn,n] * PbT[nn]**(1-eta[n]))+sum(nn$(map_s1_out[nn,n] and not out[nn]), mu[nn,n] * PwT[nn]**(1-eta[n])))**(1/(1-eta[n]));
 291  EQUATION E_quant_o_s1_out[n];
 292  E_quant_o_s1_out[n]$(i_bra_o_s1_out[n])..       qS[n]  =E=  sum(nn$(map_s1_out[n,nn]), mu[n,nn] * (PbT[n]/PwT[nn])**(-eta[nn]) * qD[nn]);
 293  EQUATION E_quant_no_s1_out[n];
 294  E_quant_no_s1_out[n]$(i_bra_no_s1_out[n])..     qD[n]  =E=  sum(nn$(map_s1_out[n,nn]), mu[n,nn] * (PwT[n]/PwT[nn])**(-eta[nn]) * qD[nn]);
 295   
 296  # ----------------------------------------------------------------------------------------------------
 297  #  Define M_s1_out model
 298  # ----------------------------------------------------------------------------------------------------
 299  Model M_s1_out /
 300  E_pindex_s1_out, E_quant_o_s1_out, E_quant_no_s1_out
 301  /;
 302   
 303  ;
 304  ;
 305   
 306  # ----------------------------------------------------------------------------------------------------
 307  #  Import file: C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\RunFile.gms
 308  # ----------------------------------------------------------------------------------------------------
 309   
 310   
 311  # ----------------------------------------------------------------------------------------------------$FIX test_gtech, test_gexo;
 312  # ----------------------------------------------------------------------------------------------------
 321   
 322   
 323  # ----------------------------------------------------------------------------------------------------$UNFIX test_gendo;
 324  # ----------------------------------------------------------------------------------------------------
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 333   
 334   
 335  # ----------------------------------------------------------------------------------------------------
 336  #  Define test model
 337  # ----------------------------------------------------------------------------------------------------
 338  Model test /
 339  E_pindex_o_s1_in, E_pindex_no_s1_in, E_pindex_CD_o_s1_in, E_pindex_CD_no_s1_in, E_quant_o_s1_in, E_quant_no_s1_in, E_pindex_s1_out, E_quant_o_s1_out, E_quant_no_s1_out
 340  /;
 341   
 342   
 343  solve test using CNS;
 344  ;
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\CollectAndRun.gmy
     2       66 GDXIN          1      66  C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\_gams_py_gdb0.gdx


COMPILATION TIME     =        0.016 SECONDS      3 MB  29.1.0 rbb4180b WEX-WEI
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Analysis      SOLVE test Using CNS From line 343


**** ERROR: CNS models must be square
This model contains 11 equality rows and 12 unfixed columns
GAMS 29.1.0  rbb4180b Released Nov 15, 2019 WEX-WEI x86 64bit/MS Windows                                                                                                                                                               09/08/20 12:09:05 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE test Using CNS From line 343


MODEL STATISTICS

BLOCKS OF EQUATIONS           9     SINGLE EQUATIONS           11
BLOCKS OF VARIABLES           5     SINGLE VARIABLES           26
NON ZERO ELEMENTS            66     NON LINEAR N-Z             55
DERIVATIVE POOL              20     CONSTANT POOL              16
CODE LENGTH                 138
SINGLE =E|X= EQUS            11     SINGLE UNFIXED VARS        12


GENERATION TIME      =        0.016 SECONDS      4 MB  29.1.0 rbb4180b WEX-WEI

**** SOLVE from line 343 ABORTED, EXECERROR = 1


EXECUTION TIME       =        0.016 SECONDS      4 MB  29.1.0 rbb4180b WEX-WEI


USER: Medium MUD - 10 User License                   G200108/0001CA-WIN
      DREAM, Danish Rational Economic Agents Model                DC620


**** FILE SUMMARY

Input      C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\CollectAndRun.gmy
Output     C:\Users\sxj477\Documents\GitHub\GamsPythonModels\work_folder\_gams_py_gjo0.lst

**** USER ERROR(S) ENCOUNTERED
